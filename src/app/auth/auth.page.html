<ion-header>
  <ion-toolbar>
    <ion-title>{{ isLoggedIn? 'Login' :'SignUp' }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <div *ngIf="isLoggedIn;else showSignup">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)">
      <ion-grid>
        <ion-row>
          <ion-col size-md="6" offset-md="3">
            <ion-list>
              <ion-item>
                <ion-label position="floating">Email</ion-label>
                <ion-input type="email" ngModel name="email" required email #emailCtrl="ngModel"></ion-input>
              </ion-item>
              <ion-item *ngIf="!emailCtrl.valid && emailCtrl.touched" lines="none">
                <ion-label>Should be a valid email address</ion-label>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Password</ion-label>
                <ion-input type="password" ngModel name="password" required minlength="8" #passwordCtrl="ngModel">
                </ion-input>
              </ion-item>
              <ion-item *ngIf="!passwordCtrl.valid && passwordCtrl.touched" lines="none">
                <ion-label>Should be of atleast 8 characters</ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" offset-md="3">
            <ion-button type="button" color="primary" fill="clear" expand="full" (click)="onAuthState()">Switch to
              {{ isLoggedIn? 'SignUp' :'Login' }}</ion-button>
            <ion-button type="submit" color="primary" expand="block" [disabled]="!f.valid">Login
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </div>

  <ng-template #showSignup>
    <form #fa="ngForm" (ngSubmit)="onSubmitSignUp(fa)">
      <ion-grid>
        <ion-row>
          <ion-col size-md="6" offset-md="3">
            <ion-list>
              <ion-item>
                <ion-label position="floating">FirstName</ion-label>
                <ion-input type="text" ngModel name="firstname" required firstName #firstnameCtrl="ngModel"></ion-input>
              </ion-item>
              <ion-item *ngIf="!firstnameCtrl.valid && firstnameCtrl.touched" lines="none">
                <ion-label>This field is required</ion-label>
              </ion-item>
              <ion-item>
                <ion-label position="floating">LastName</ion-label>
                <ion-input type="text" ngModel name="lastname" required lastName #lastnameCtrl="ngModel"></ion-input>
              </ion-item>
              <ion-item *ngIf="!lastnameCtrl.valid && lastnameCtrl.touched" lines="none">
                <ion-label>This field is required</ion-label>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Name of College</ion-label>
                <ion-input type="text" ngModel name="clgname" required lastName #clgnameCtrl="ngModel"></ion-input>
              </ion-item>
              <ion-item *ngIf="!clgnameCtrl.valid && clgnameCtrl.touched" lines="none">
                <ion-label>This field is required</ion-label>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Email</ion-label>
                <ion-input type="email" ngModel name="email" required email #emailCtrl="ngModel"></ion-input>
              </ion-item>
              <ion-item *ngIf="!emailCtrl.valid && emailCtrl.touched" lines="none">
                <ion-label>Should be a valid email address</ion-label>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Contact</ion-label>
                <ion-input type="text" ngModel name="contact" required minlength="10" maxlength="10"
                  #contactCtrl="ngModel">
                </ion-input>
              </ion-item>
              <ion-item *ngIf="!contactCtrl.valid && contactCtrl.touched" lines="none">
                <ion-label>Should be of of 10 digits</ion-label>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Password</ion-label>
                <ion-input type="password" ngModel name="password" required minlength="8" #passwordCtrl="ngModel">
                </ion-input>
              </ion-item>
              <ion-item *ngIf="!passwordCtrl.valid && passwordCtrl.touched" lines="none">
                <ion-label>Should be of atleast 8 characters</ion-label>
              </ion-item>
            </ion-list>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size-md="6" offset-md="3">
            <ion-button type="button" color="primary" fill="clear" expand="full" (click)="onAuthState()">Switch to
              {{ isLoggedIn? 'SignUp' :'Login' }}</ion-button>
            <ion-button type="submit" color="primary" expand="block" [disabled]="!fa.valid">SignUp
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </form>
  </ng-template>
</ion-content>